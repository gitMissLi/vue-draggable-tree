webpackJsonp([1],{"42Hy":function(e,t,n){"use strict";function r(e){n("w0q8")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("DK6z"),a=n.n(o),i=n("kvWO"),d=n("VU/8"),s=r,u=d(a.a,i.a,!1,s,"data-v-41135bf0",null);t.default=u.exports},DK6z:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Gu7T"),a=r(o),i=n("cWM3"),d=r(i),s=[{key:"0",title:"女装",children:[{key:"0-1",title:"风衣"},{key:"0-2",title:"外套"}]},{key:"1",title:"男装"},{key:"2",title:"图书",children:[{key:"2-0",title:"小说",children:[{key:"2-0-0",title:"九州牧云录"},{key:"2-0-1",title:"天空的城"},{key:"2-0-2",title:"三体"}]},{key:"2-1",title:"经管",children:[{key:"2-1-0",title:"创京东"}]},{key:"2-2",title:"科技",children:[{key:"2-2-0",title:"JavaScript权威指南"},{key:"2-2-1",title:"JavaScript高级程序设计"}]}]}];t.default={name:"vue-draggable-tree-demo",components:{Tree:d.default},data:function(){return{gData:s}},methods:{onDrop:function(e){var t=e.node.eventKey,n=e.dragNode.eventKey,r=e.node.pos.split("-"),o=e.dropPosition-Number(r[r.length-1]),i=function e(t,n,r){t.forEach(function(t,o,a){return t.key===n?r(t,o,a):!!t.children&&e(t.children,n,r)})},d=[].concat((0,a.default)(this.gData)),s=void 0;if(i(d,n,function(e,t,n){n.splice(t,1),s=e}),e.dropToGap){var u=void 0,l=void 0;i(d,t,function(e,t,n){u=n,l=t}),1===o?u.splice(l+1,0,s):u.splice(l,0,s)}else i(d,t,function(e){e.children=e.children||[],e.children.push(s)});this.gData=d}}}},M93x:function(e,t,n){"use strict";function r(e){n("upaz")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("xJD8"),a=n.n(o),i=n("lf0G"),d=n("VU/8"),s=r,u=d(a.a,i.a,!1,s,null,null);t.default=u.exports},NHnr:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n("7+uW"),a=r(o),i=n("M93x"),d=r(i);a.default.config.productionTip=!1,new a.default({el:"#app",template:"<App/>",components:{App:d.default}})},YwDL:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Gu7T"),i=r(a),d=n("7+uW"),s=r(d),u=n("hwOU"),l=r(u),c=n("ioV9"),p=r(c),f=n("hgXd");n("rUkx"),t.default=s.default.component("Tree",{props:{data:{type:Array},autoExpandParent:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},onDragEnd:{type:Function,default:o},onDragEnter:{type:Function,default:o},onDragLeave:{type:Function,default:o},onDragOver:{type:Function,default:o},onDragStart:{type:Function,default:o},onDrop:{type:Function,default:o},onExpand:{type:Function,default:o},template:{type:Function,default:p.default}},data:function(){return this.dropNodeKey="",this.dragNodesKeys="",{dragOverNodeKey:"",dropPosition:"",expandedKeys:[]}},methods:{renderTreeNode:function(e,t){var n=this.$createElement,r=e.data,o=r.vChildren,a=r.rckey,i=r.level,d=r.title,s=r.source,u=i+"-"+t,c=a,p=this.dragOverNodeKey===c&&-1===this.dropPosition,f=this.dragOverNodeKey===c&&1===this.dropPosition,h=this.dragOverNodeKey===c&&0===this.dropPosition,g=-1!==this.expandedKeys.indexOf(c);return n(l.default,{attrs:{root:this,title:d,rckey:c,pos:u,vChildren:o,eventKey:c,dragOver:h,dragOverGapTop:p,dragOverGapBottom:f,source:s,template:this.template,draggable:this.draggable,expanded:g}},[])},getDragNodesKeys:function(e){var t=[],n=e.pos.split("-");return(0,f.traverseTreeNodes)(e.$children,function(r,o,a,i){var d=a.split("-");(e.pos===a||n.length<d.length)&&(0,f.isInclude)(n,d)&&t.push(i)}),t.push(e.eventKey||e.pos),t},dragStart:function(e,t){this.dragNode=t,this.dragNodesKeys=this.getDragNodesKeys(t),this.onDragStart({event:e,node:t})},dragEnter:function(e,t){var n=this.calcDropPosition(e,t);if(this.dragNode.eventKey===t.eventKey&&0===n)return this.dragOverNodeKey="",void(this.dropPosition=null);this.dragOverNodeKey=t.eventKey,this.dropPosition=n},dragOver:function(e,t){this.onDragOver({event:e,node:t})},dragLeave:function(e,t){this.onDragLeave({event:e,node:t})},drop:function(e,t){var n=t.eventKey;if(this.dragOverNodeKey="",this.dropNodeKey=n,this.dragNodesKeys.indexOf(n)>-1)return void console.error("Can not drop to dragNode(include it's children node)");var r=t.pos.split("-"),o={event:e,node:t,dragNode:this.dragNode,dragNodesKeys:[].concat((0,i.default)(this.dragNodesKeys)),dropPosition:this.dropPosition+Number(r[r.length-1])};0!==this.dropPosition&&(o.dropToGap=!0),this.onDrop(o)},dragEnd:function(e,t){this.dragOverNodeKey="",this.onDragEnd({event:e,node:t})},calcDropPosition:function(e,t){var n=t.$refs.selectHandle,r=(0,f.getOffset)(n).top,o=n.offsetHeight,a=e.pageY;return a>r+o-2?1:a<r+2?-1:0},expand:function(e){var t=!e.expanded,n=[].concat((0,i.default)(this.expandedKeys)),r=e.eventKey,o=n.indexOf(r);t&&-1===o?n.push(r):!t&&o>-1&&n.splice(o,1),this.expandedKeys=n,this.onExpand(n,{node:e,expanded:t})}},render:function(e){var t=this;return e("ul",{class:"tree",attrs:{role:"tree-node",unselectable:"on"}},[(0,f.loop)(this.data,e,l.default).map(function(e,n){return t.renderTreeNode(e,n)})])}})},cWM3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("YwDL"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},hgXd:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];!function e(n,r,o,a){var i=n;n&&n.length&&(i=n.filter(function(e){return!!e})),i.forEach(function(n,r){if(n.isTreeNode){var i=n.pos;o.push(i);var d=[];n.$children&&e(n.$children,i,d,i),t(n,r,i,n.rckey||i,d,a)}})}(e,0,[])}function o(e,t){return e.every(function(e,n){return e===t[n]})}function a(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var n=e.ownerDocument,r=n.defaultView,o=n.documentElement;return{top:t.top+r.pageYOffset-o.clientTop,left:t.left+r.pageXOffset-o.clientLeft}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.traverseTreeNodes=r,t.isInclude=o,t.getOffset=a;t.loop=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0";return t.map(function(t,a){var i={index:a,rckey:t.key,title:t.title,level:o,source:t};if(t.children&&t.children.length){var d=o+"-0";i.vChildren=e(t.children,n,r,d)}return n(r,i,[])})}},hwOU:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("pFYg"),a=r(o),i=n("7+uW"),d=r(i),s=n("HW6M"),u=r(s),l=d.default.component("TreeNode",{props:{prefixCls:{type:String,default:function(){return"rc"}},source:{type:Object},title:{type:String,default:function(){return"---"}},rckey:{},pos:{type:String},root:{type:Object},vChildren:{type:Array},eventKey:{},draggable:{type:Boolean,default:!1},dragOver:{},dragOverGapTop:{type:Boolean},dragOverGapBottom:{type:Boolean},template:{},expanded:{type:Boolean}},data:function(){return this.isTreeNode=!0,{dataLoading:!1,dragNodeHighlight:!1}},computed:{handleSelect:function(){return this.$refs.handleSelect}},methods:{renderChildren:function(){var e=this,t=this.$createElement,n=this.expanded,r=null,o=this.vChildren;return o&&!n&&(r=t("ul",null,[o.map(function(t,n){return e.root.renderTreeNode(t,n)})])),r},onSelect:function(){this.root.onSelect(this)},onDragStart:function(e){e.stopPropagation(),this.dragNodeHighlight=!0,this.root.dragStart(e,this);try{e.dataTransfer.setData("text/plain","")}catch(e){}},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),this.root.dragEnter(e,this)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),this.root.dragOver(e,this)},onDragLeave:function(e){e.stopPropagation(),this.root.dragLeave(e,this)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragNodeHighlight=!1,this.root.drop(e,this)},onDragEnd:function(e){e.stopPropagation(),this.dragNodeHighlight=!1,this.root.dragEnd(e,this)},onExpand:function(){var e=this,t=this.root.expand(this);if(t&&"object"===(void 0===t?"undefined":(0,a.default)(t))){var n=function(t){e.dataLoading=t};n(!0),t.then(function(){n(!1)},function(){n(!1)})}},switcher:function(){var e=this.$createElement,t="";return this.source.children&&this.source.children.length>0&&(t=this.expanded?"+":"-"),e("span",{on:{click:this.onExpand}},[t])}},render:function(e){var t=this,n="";return this.disabled||(this.dragOver?n="drag-over":this.dragOverGapTop?n="drag-over-gap-top":this.dragOverGapBottom&&(n="drag-over-gap-bottom")),e("li",{class:(0,u.default)(n)},[this.switcher(),function(){var n=t.prefixCls,r=t.title,o=e("span",{class:n+"-title"},[r]),a=t.template;return e("span",{ref:"selectHandle",attrs:{class:"title-wrapper draggable",style:"height: 17px; font-size: 14px; padding-top: 2px; vertical-align: top;",draggable:t.draggable},on:{dragstart:t.onDragStart,dragenter:t.onDragEnter,dragover:t.onDragOver,drop:t.onDrop,dragend:t.onDragEnd}},[e(a,{attrs:{},props:{title:o,node:t.source}},[])])}(),this.renderChildren()])}});t.default=l},ioV9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default.component("DEFAULT_TEMPLATE",{props:{title:{},node:{type:Object}},render:function(){var e=arguments[0];return e("div",null,[e("span",null,[this.title])])}})},kvWO:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("Tree",{attrs:{draggable:!0,data:e.gData,onDrop:e.onDrop}})],1)},o=[],a={render:r,staticRenderFns:o};t.a=a},lf0G:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Index")],1)},o=[],a={render:r,staticRenderFns:o};t.a=a},rUkx:function(e,t){},upaz:function(e,t){},w0q8:function(e,t){},xJD8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("42Hy"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={name:"app",components:{Index:o.default}}}},["NHnr"]);
//# sourceMappingURL=app.c8aa288cf90aeba7acd9.js.map